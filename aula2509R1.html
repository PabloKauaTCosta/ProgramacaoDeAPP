<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulário de Cadastro de Produto</title>
    <style>
        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <div id="tabelaProd">
        <!--Tabela: Podutos-->
        <table border="1">
            <thead>
                <tr>
                    <th>Nome</th>
                    <th>Preço</th>
                    <th>Quantidade</th>
                </tr>
            </thead>
            <tbody id="corpoTab"></tbody>
        </table>
    </div>

    <br>

    <div >
        <!--Botão: Cadastrar-->
        <button id="cadastrarProd" onclick="cadastrar()">Cadastrar</button>
    </div>

    <div id="gerenciadorProd">
        <!--Título-->
        <h1>Cadastro de produto</h1>

        <!--Formulário-->
        <form action=""> 
            <div>
                <label for ="nomeProdt">Nome: 
                    <input id="nomeProd" placeholder="Digite o nome" required>
                </label>
            </div>

            <br>

            <div>
                <label for="precoProdt">Preço: 
                    <input id="precoProd" placeholder="Digite o preço" required>
                </label>
            </div>

            <br>

            <div>
                <label for="quantidadeProdt">Quantidade: 
                    <input id="quantidadeProd" placeholder="Digite a quantidade" required>
                </label>
            </div>

            <br>

            <div>
                <button type="button" onclick="salvar()">Salvar</button> 
                <button type="button" onclick="cancelar()">Cancelar</button>
            </div>
        </form>
    </div>
    
    <script>
    // Esconde a área de cadastro
    document.getElementById("gerenciadorProd").classList.add("hidden")
    
    // Arrays para guardar os itens da tabela de preço
    let nomes = ["Capinha", "Película", "Celular"]
    let precos = ["R$20", "R$30", "R$12.000"]
    let quantidades = [500, 200, 50]
    
    // Váriavel para controlar a tabela pelo script
    let corpo = document.getElementById("corpoTab")

    // Chama a função para exibir os dados iniciais ao carregar a página
    atualizarTabela() 
    
    // Ir para a área de cadastro adicionar novos produtos
    function cadastrar() { // Botão
        document.getElementById("tabelaProd").classList.add("hidden") // Esconde a tabela
        document.getElementById("gerenciadorProd").classList.remove("hidden") // Mostra a tela de add novos produtos
        document.getElementById("cadastrarProd").classList.add("hidden") // Esconde o botão de cadastro
    }

    // Coleta os valores do formulário e add em uma nova variável
    function salvar() { // Botão
        let novoNome = document.getElementById("nomeProd").value
        let novoPreco = document.getElementById("precoProd").value
        let novaQuantidade = document.getElementById("quantidadeProd").value
        
        // Adiciona os novos valores aos arrays
        if (novoNome && novoPreco && novaQuantidade) { // Usando AND para os 3 serem obrigatórios
            nomes.push(novoNome) // Adciona ao array de nomes
            precos.push(novoPreco) // Adciona ao array de preços
            quantidades.push(novaQuantidade) // Adciona ao array de quantidades (estoque)

            // Limpar os dados do formulário
            document.getElementById("nomeProd").value = ""
            document.getElementById("precoProd").value = ""
            document.getElementById("quantidadeProd").value = ""

            // Chama a função para mostrar a tabela com os novos produtos
            atualizarTabela()
            
            // Chama a função para voltar, se as condições forem feitas
            cancelar() 
        } else {
            alert("Por favor, preencha todos os campos.") // Alerta se tentarem salvar sem preencher tudo
        }
    }
    
    function atualizarTabela() {
        // Limpa o conteúdo atual da tabela para evitar duplicatas
        corpo.innerHTML = ""
        
        // Mostra a tabela atualizada com os novos itens do array
        for (let i = 0; i < nomes.length; i++) {
            let linha = document.createElement("tr") // Viriável para acessar a tabela e add elemntos nela
            linha.innerHTML =`
            <td>${nomes[i]}</td>
            <td>${precos[i]}</td>
            <td>${quantidades[i]}</td>
            ` // Acessando a variável linha(tr) para add/mostrar os novos itens do array
            corpo.appendChild(linha) // Add linha ao corpo(tbody)
        }
    }

    // Volta a tela inicial
    function cancelar() { // Botão
        document.getElementById("tabelaProd").classList.remove("hidden") // Mostra a tabela de produtos
        document.getElementById("gerenciadorProd").classList.add("hidden") // Esconde o gerenciador de add produtos
        document.getElementById("cadastrarProd").classList.remove("hidden") // Mostra o botão de cadastro novamente
    }
    </script>
</body>
</html>